TO remove later


install ISO with cloud init
https://askubuntu.com/questions/1236317/how-do-i-create-a-ubuntu-focal-auto-install-server-iso-image

https://ubuntu.com/server/docs/install/autoinstall


first install from windows, use rufus and ISO 23.04 desktop
create image then reboot on USB stick


TODOs later
- use grub or linux boolaoder instead of windows boot manager ?
https://askubuntu.com/questions/86979/grub-or-windows-bootloader-for-dual-boot

How windows boot manager works ?
Can we get completely rid of it
How to reinstall windows if we completely wipe all the disks and only create partitions without windows and without boot manager 



======================================
Software and config after install
- set screen resolution
- google account at ubuntu level ? (permit GNOME to access google)
- chrome download + install : sudo dpkg -i .deb
   - setup google synchronization
- install vscode (via snap)
   - connect / clone github repo ubuntu-desktop
- sudo apt install git

sudo snap install htop


git clone https://github.com/seb54000/ubuntu-desktop.git


- installer proxy squid avec des règles limitant l'accès à internet
- ne pas avoir les droits sudo pour les enfants
- installer une suite office pour les enfants
- vérifier que l'impression est possible
- limiter les programmes qui peuven t être lancés 
- voir comment faire la conf de base à l'ouverture de session pour GNOME (éviter de demander le paramétrage d'un compte google, savoir si on veut envoyer les infos, etc...)

- outil de capture d'écran
   il suffit d'appuyer sur imprim ecran et ça lance l'utilitaire
- office writer est déjà intallé



- install Gdrive and set keepass
   https://doc.ubuntu-fr.org/google_drive



- keepass for sharing secrets 
   - dashlane alternatives ??? 
      - bitwarden ??   Ask Romain 
   - https://superuser.com/questions/44028/best-way-to-share-certain-passwords-stored-in-keepass



- restore session tools at startup (even after shutdown) - see in tf-ami 
   AUTO startup but see also https://ubuntuhandbook.org/index.php/2023/01/save-restore-all-open-app-ubuntu/
      https://www.howtogeek.com/203952/how-to-automatically-remember-running-applications-from-your-last-session-in-ubuntu-14.04/
      https://askubuntu.com/questions/48321/how-do-i-start-applications-automatically-on-login


- remove first config steps for user at first login
   https://ossmalta.eu/how-to-disable-welcome-screen-first-login-dialog-in-ubuntu-22-04/


- install DropBox
   https://doc.ubuntu-fr.org/application_dropbox
   https://doc.ubuntu-fr.org/rclone
   Set default applications (for video = VLC for instance)
    - GUI : settings / default applications
    - 
    - https://help.gnome.org/admin/system-admin-guide/stable/mime-types-application-user.html.en

Change default terminal for gnome
gsettings list-recursively | grep -i terminal
org.gnome.desktop.default-applications.terminal exec 'gnome-terminal'


Turn on SYNC on google chrome
   in an automted way / command line

openVPN configuration in order to connect when in REPAIX for instance


SSH connexion to DESKTOP with a SSH key that we store in Keepass
   - public key could be in git repo ?
   - study the use of guacamole with docker in order to give access through simple browser
   - install XRDP to share also the session and screen ?? (beware of multiple session for same user)

Add a DNS records on OVH for DESKTOP (ease local RDP access)


TIme machine equivalent in ubuntu
https://chat.openai.com/c/fdafa55d-55b2-4de9-9ad4-9b142baae16d
   dup / duplicity
   timeshift -- snapshot facilitant la restore
   rsync en plus pour certains répertoires
      pas forcément besoin de tout sauvegarder d'ailleurs, il suffit d'un bon rsync avec des versions séparées sur les fichiers de datas mais pour le reste (install des softs, je dois être en mesure de facilmeent tout restaurer avec le script d'install)
   voir également rclone qu permet de cpier vers des dropbox, gdrive, ...
         https://doc.ubuntu-fr.org/rclone


Mount Gdrive sur DEKSTOP comme sur laptop
   gvfsd-fuse on /run/user/1000/gvfs type fuse.gvfsd-fuse (rw,nosuid,nodev,relatime,user_id=1000,group_id=1000)
https://askubuntu.com/questions/1350137/mount-google-drive-automatically-at-startup-as-in-nautilus

   --> voir aussi s'il ne suffit pas cocher le drive/folder dans online accounts




TODO snap error while using somme command line tools relating to GNOME
example gio mount
https://stackoverflow.com/questions/65349875/where-can-i-find-glibcxx-3-4-29
seb@seb-KLVC-WXX9:~/ubuntu-desktop$ gio mount 
/snap/core20/current/lib/x86_64-linux-gnu/libstdc++.so.6: version `GLIBCXX_3.4.29' not found (required by /lib/x86_64-linux-gnu/libproxy.so.1)
Failed to load module: /home/seb/snap/code/common/.cache/gio-modules/libgiolibproxy.so
gio: No locations given

A priori lié au fait de lancer la commande depuis un terminal VScode, à tester extensivement mais si on le fait depuis un terminal normal, il n'y a pas d'erreur...


Add shortcuts in nautllius in command line
   /mnt/doux
      https://forum.zorin.com/t/change-file-managers-nautilus-sidebar/12251
      edit ~/.config/user-dirs.dirs and /etc/xdg/user-dirs.defaults

      xdg-user-dirs-update --set XDG_NASDOUX_DIR "/mnt/doux"

   Hiding some sidebar natulius shortcut -(like music)
   https://www.reddit.com/r/gnome/comments/wh3p1r/why_cant_i_delete_default_bookmarks_in_nautilus/
   https://www.freedesktop.org/wiki/Software/xdg-user-dirs/

   Macbook migration
   MS teams
   AUdacity
   Notes gmail /iphone
   Gimp (cartes de voeux)
   Equivalent airdrop ?
   HandBRake
   Disk inventoyr X
   iMovie equivalent (histoy ??=)
   DemoPro (ahcat appstore)
   AnyTUne (achat appsotre)
   iReal Pro (acaht appstore)
   Transcribe ??
   MuseScore
   Ledger live (bitcoin)
   VVV (catalog CD software)

   AirDrop usage ?? https://github.com/seemoo-lab/opendrop


Backup files on MAC-OS
   See sciprt file and config to sse what is missign in conf

Documents
Downloads
Bureau
et voir le reste s'il y a des choses...

COmmandes pour créer une archive avec preserve permissions et dates sur le MAC
tar --create --preserve-permissions --owner=XXX --group=XXX --numeric-owner -z --exclude='._*' --file=../Documents.tar.gz -C /home/xxx/Documents
pour la restauration

tar --extract --preserve-permissions --owner=seb --group=seb --numeric-owner -z --exclude='._*' --file=/mnt/doux/Downlaods_macOS.tar.gz -C /home/seb/

Ce mode pose problème car les dates des dossiers ne sont pas préservés.
Il faut refaire un test depuis le macOS avec un rsync utilisant ssh entre les deux PC en utilisant la clé
   https://forum.ubuntu-fr.org/viewtopic.php?id=336213
   rsync -Pav -e "ssh -i $HOME/.ssh/somekey" username@hostname:/from/dir/ /to/dir/

   rsync -a --numeric-ids --chown=YYY:YYY /source/ /destination/

--verbose: couplée avec --progress, force rsync à détailler ce qui est exécuté à chaque instant
--progress: cf --verbose
--stats: affiche données relatives au transfert (nombre et taille des fichiers transférés entre autres)
--recursive: permet de ne pas sŽarrêter au répertoire cible et de descendre dans tous les sous-répertoires
--times: demande à rsync de transférer les dates de modifications des fichiers en même temps que les fichiers. Permet dŽincrémenter les sauvegardes.
--perms: met à jour les permissions sur le répertoire cible en fonction des modifications réalisées sur répertoire source
--links: conserve les liens symboliques sur le répertoire cible
--compress: permet à rsync dŽutiliser la compression gzip pour transférer les fichiers
--rsh=ssh: permet de protéger les données lors de leur transfert
--delete: supprime sur répertoire cible les fichiers supprimés sur répertoire source
--itemize-changes: affiche un résumé des changements pour chaque mise à jour


gthumb ...
   Look at preferences and see how to config through command line
      can use double click to open pictures while in browser mode (instead of simple click by default)
      can modify caption displyad along the picture sin browser mode (like filename and rating instead of comments)
         i choose filename, rating , comments / rating , EXIF original date time

test de geeqie l'autre proposition de chatgpt
   sudo apt install -y geeqie

   Need to activate overlay to see ratings and fileName, ...
      can customize the overlay to add/remove informations
   Need to sort by rating (can't seem a filter is working here (yet)
   Need to say to save metadata as soon as possible (filechange)
      we can use write after timeout and put 0 seconds and it is immediate !!
   Need to change the shortcuts to have ctrl+1 , 2, 3 for the rating 
   Can use ctrl+K to show the control/info panel instead of overlay to see rating

   quand on change un rating, il se retrouve là où est le rating, il faudrait au moins avoir un shrotcut pour revenir à la première photo dela liste pour continuer le rating facilement
      c'est la touche HOME par défaut qui permet d'aller à la première image (il faudrait éventuellement changer le shortctu pour plus de proximité, pareil pour le rating, au lieu de ctrl mettre juste les chiffres et pensez au 0)
         j'ai mis la lettre a pour select photo 1 et juste les chiffres de 1 à 5 et le 0 pour le rating, ça devrait pas être si mal
   Bon point, sélection multiple + rating modifie bien toutes les photos


Arghhhhh... on dirait que geeqie sauve les metadatas dans un autre champ de type windows rating (c'est ce u'on voit s'afficher dans les détails de gthumb)
   et du coup, même avec exiftool, je vois pas ce rating....
      Gthumb les classe dans EXIF others
         et impossible de le voir dans exiftool....
            si si tout est bien là sans problème, je regardais dans le mauvais répertoire ;-)

geeqie utiliserait exiv2 pour les metatda, à tester pour voir si on peut les afficher

Le seul point qui reste, c'est de pouvoir filtrer pour n'afficher que les images avec un certain rating dans geeqie pour faciliter le classement, voir ce qui reste, etc...
   On peut faire le sort, mais pas le filtre, c'est vraiment dommage


TODO thunderbird and xournal++ as default PDF reader/editor
https://www.reddit.com/r/gnome/comments/uobcfz/how_to_declare_that_a_flatpak_app_can_handle_a/

THunderburd accont setting gmail, server settings / advanced / untick the show only subsrcided folders


Fermer la session GNOME mais fermer avant en mode distant les documents ouverts
   https://ask.libreoffice.org/t/close-libreoffice-gracefuly-from-command-line/34120/3

Et voir quand même s'il n'y a pas une meilleure solution que le montage du répertoire sur home parce que les documents semblent systématiquement corrompus


Service pour lancer automatiquement sur desktop dès le boot les ocntainers pour transmission (et ne pas attendre qu'on ouvre une session)
Il suffit de faire un service de type bas qui lancera les containers uniquement au boot
   ou peut-être simplement un cronjob dans ce cas avec l'option @boot 


Spotlight like for ubuntu
   https://extensions.gnome.org/extension/5489/search-light/
   https://www.reddit.com/r/Ubuntu/comments/l4s4s0/spotlight_search_for_ubuntu/


Recherches récursives même au sein d'une remote location
https://askubuntu.com/questions/852940/how-can-i-make-files-search-recursively-within-a-network-share